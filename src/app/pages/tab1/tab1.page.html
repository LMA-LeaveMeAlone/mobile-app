<ion-content [fullscreen]="true">
  <div class="title">
    <h1>Interagir avec la porte</h1>
    <ion-icon name="exit-outline" (click)="disconnect()"></ion-icon>
  </div>

  <!-- Door interaction -->
  <ion-card>
    <ion-card-header>
      <ion-card-title>Interagir</ion-card-title>
    </ion-card-header>
    <ion-card-content class="interaction-card">
      <ion-button 
        color="danger"
        (click)="toggleAlarm()"
        [class.button-disabled]="btnAlarmDisabled"
      >
        <ion-icon name="notifications-outline" *ngIf="isAlarming() === true"></ion-icon>
        <ion-icon name="notifications-off-outline" *ngIf="isAlarming() !== true"></ion-icon>
        <p>Alarme</p>
      </ion-button>
      <ion-button 
        color="warning"
        (click)="toggleLight()"
      >
        <ion-icon name="flash-outline" *ngIf="isLighting() === true"></ion-icon>
        <ion-icon name="flash-off-outline" *ngIf="isLighting() !== true"></ion-icon>
        <p>Lumière</p>
      </ion-button>
      <ion-button 
        class="mic"
        (click)="this.microphoneIsEnabled = !this.microphoneIsEnabled"
      >
        <ion-icon name="mic-outline" *ngIf="microphoneIsEnabled === true"></ion-icon>
        <ion-icon name="mic-off-outline" *ngIf="microphoneIsEnabled !== true"></ion-icon>
        <p>Parler</p>
      </ion-button>
      <ion-button 
        class="cam"
        (click)="this.cameraIsEnabled = !this.cameraIsEnabled"
      >
        <ion-icon name="eye-outline" *ngIf="cameraIsEnabled === true"></ion-icon>
        <ion-icon name="eye-off-outline" *ngIf="cameraIsEnabled !== true"></ion-icon>
        <p>Voir</p>
      </ion-button>
    </ion-card-content>
  </ion-card>

  <!-- Camera view -->
  <ion-card>
    <ion-card-header>
      <ion-card-title>Caméra</ion-card-title>
      <div *ngIf="cameraIsEnabled !== true">
        <p>La caméra est coupée. <br />Activez-la pour avoir un aperçu de ce qu'il se passe devant votre porte.</p>
      </div>
    </ion-card-header>
    <ion-card-content *ngIf="cameraIsEnabled === true">
      <img src="assets/camera.png" alt="Camera preview" class="camera">
    </ion-card-content>
  </ion-card>
</ion-content>
